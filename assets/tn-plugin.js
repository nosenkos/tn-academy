!function i(r,u,c){function d(e,t){if(!u[e]){if(!r[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(l)return l(e,!0);var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}var o=u[e]={exports:{}};r[e][0].call(o.exports,function(t){return d(r[e][1][t]||t)},o,o.exports,i,r,u,c)}return u[e].exports}for(var l="function"==typeof require&&require,t=0;t<c.length;t++)d(c[t]);return d}({1:[function(t,e,n){"use strict";tinymce.create("tinymce.plugins.tn",{init:function(u,t){u.addButton("eventsbutton",{title:name_btn_plugin,cmd:"eventsbutton",image:t+"/tiny_mce_images/calendar-blue.png"}),u.addCommand("eventsbutton",function(){$.ajax({url:ajaxurl,type:"POST",dataType:"JSON",data:{action:"call_get_courses"},success:function(t){var r=JSON.parse(t.data);t.success?tinymce.activeEditor.windowManager.open({title:r.popup_data.text_add_tn_academy_course,width:440,height:220,id:"tn-academy-popup-window",body:[{type:"textbox",name:"title",label:r.popup_data.course_name+":"},{type:"textbox",name:"text",label:r.popup_data.text+":"},{type:"textbox",name:"linkText",label:r.popup_data.link_text+":"},{type:"listbox",name:"course",label:r.popup_data.link+":",values:r.data},{type:"container",name:"container",label:"",layout:"grid",html:r.popup_data.msg_new_course_how_to}],onsubmit:function(e){var n,a,o,i,t;r.data.forEach(function(t){t.value===e.data.course&&(n=""!==e.data.title?e.data.title:t.text,a=""!==e.data.text?e.data.text:t.content,o=""!==e.data.linkText?e.data.linkText:t.link,i=t.link)}),t='<div class="events-button"><h3 class="events-button-title">'+n+'</h3><p class="events-button-text">'+a+'</p><div class="events-button-link"><a href="'+i+'">'+o+"</a></div></div>",u.execCommand("mceInsertContent",0,t)}}):tinymce.activeEditor.windowManager.open({title:r.popup_data.text_add_tn_academy_course,width:440,height:220,id:"tn-academy-popup-window",body:[{type:"container",name:"container",id:"tn-academy-no-forms-notice",label:"",layout:"grid",html:r.popup_data.msg_no_courses}]})},error:function(t,e,n){console.log("There was an error during the AJAX call to WordPress Ajax: "+t)}})})},createControl:function(t,e){return null},getInfo:function(){return{longname:"TN Buttons",author:"Sergey Nosenko",authorurl:"",infourl:"",version:"0.1"}}}),tinymce.PluginManager.add("tn",tinymce.plugins.tn)},{}]},{},[1]);
//# sourceMappingURL=tn-plugin.js.map
